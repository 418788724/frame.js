// frame - http://github.com/mrdoob/frame
var FRAME=function(){return{VERSION:1,Effect:function(){this.init=function(){};this.load=function(){};this.start=function(){};this.end=function(){};this.render=function(){}},Timeline:function(){var f=[],d=[],g=0,h=0;return{load:function(a){var c=this,b=new XMLHttpRequest;b.addEventListener("load",function(a){for(var a=JSON.parse(a.target.responseText),b=0,d=a.timeline.length;b<d;b++){var e=a.timeline[b];void 0===window[e[3]]?console.log("FRAME: Missing effect: "+e[3]):(e=new FRAME.TimelineElement(e[0],
e[1],e[2],new window[e[3]](e[4])),c.add(e))}},!1);b.open("GET",a,!0);b.send(null)},add:function(a){f.push(a);f.sort(function(a,b){return a.start-b.start})},remove:function(a){a=f.indexOf(a);-1!==a&&f.splice(a,1)},render:function(a){for(a<h&&this.reset();f[g];){var c=f[g];if(c.start>a)break;c.end>a&&(d.push(c),c.effect.start((a-c.start)/c.duration));g++}for(var b=0;d[b];)c=d[b],c.end<a?(d.splice(b,1),c.effect.end((a-c.start)/c.duration)):b++;d.sort(function(a,b){return a.layer-b.layer});for(var b=
0,i=d.length;b<i;b++)c=d[b],c.effect.render((a-c.start)/c.duration);h=a},reset:function(){for(;d.length;)d.pop();g=0}}},TimelineElement:function(f,d,g,h){this.layer=f;this.start=d;this.end=g;this.duration=g-d;this.effect=h}}}();
